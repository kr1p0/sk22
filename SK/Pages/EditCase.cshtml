@page
@model SK.Pages.EditCaseModel
@{
    string customCheck = Model.Case.Notification == "y" ? "checked" : "";
}
<!-- For Ajax-->
@Html.AntiForgeryToken()

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<body onload="onloadEditCase()">
    
    <input type="hidden" readonly asp-for="Case.CaseId" id="caseId2Edit"  />

    <form method="post" id="editCourseForm" enctype="multipart/form-data" >
        <div class="kr1CustomInputOuterContainer">

            <div class="row">
                    <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Imie</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.FirstName" id="caseFirstNameEdit" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Nazwisko</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.LastName" id="caseLastNameEdit"/>
                        </div>
                    </div>
              </div>

              <div class="row">
                    <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Telefon</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.Telephone" id="casePhoneEdit"/>
                        </div>
                    </div>
                    <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Numer indywidualny</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.UnigueNumber" readonly id="caseUniqueNumEdit"/>
                        </div>
                    </div>
              </div>

                <div class="row">
                    <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Producent</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.Manufacturer" id="caseManufacturerEdit"/>
                        </div>
                    </div>
                    <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Model</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.Model" id="casemodelEdit"/>
                        </div>
                    </div>
              </div>

          

              <div class="row" >

                <div class="col" >
                    <div class="kr1CustomInputContainer " 
                    onclick="kr1CustomInputFocusIn(this)" 
                    onfocusout="kr1CustomInputFocusIn(this)">
                        <span class="kr1CustomPlaceholder" >Data zgłoszenia</span>
                        <input type="date"  class="allowShortInput kr1CustomInput " asp-for="Case.StartDate" id="caseStartDateEdit"/>
                    </div>
                </div>

                <div class="col">
                    <div class="kr1CustomInputContainer " 
                    onclick="kr1CustomInputFocusIn(this)" 
                    onfocusout="kr1CustomInputFocusIn(this)">
                        <span class="kr1CustomPlaceholder" >Czas zgłoszenia</span>
                        <input type="time"  class="allowShortInput kr1CustomInput" asp-for="Case.StartTimeOnly" id="caseStartTimeEdit"/>
                    </div>
                </div>

                <div class="col">
                    <div class="kr1CustomInputContainer " 
                    onclick="kr1CustomInputFocusIn(this)" 
                    onfocusout="kr1CustomInputFocusIn(this)">
                        <span class="kr1CustomPlaceholder" >Termin data</span>
                        <input type="date"  class="allowShortInput kr1CustomInput" asp-for="Case.EndDate" id="caseEndDateEdit"/>
                    </div>
                </div>

                <div class="col">
                    <div class="kr1CustomInputContainer " 
                    onclick="kr1CustomInputFocusIn(this)" 
                    onfocusout="kr1CustomInputFocusIn(this)">
                        <span class="kr1CustomPlaceholder" >Termin czas</span>
                        <input type="time"  class="allowShortInput kr1CustomInput" asp-for="Case.EndTimeOnly" id="caseEndTimeEdit"/>
                    </div>
                </div>

                 <div class="col">
                        <div class="kr1CustomInputContainer " 
                        onclick="kr1CustomInputFocusIn(this)" 
                        onfocusout="kr1CustomInputFocusIn(this)">
                            <span class="kr1CustomPlaceholder" >Adres email</span>
                            <input type="text"  class="kr1CustomInput" asp-for="Case.Email" id="caseEmailEdit"/>
                        </div>
                 </div>

                    <div class="col">
                        <div class="input-group  customInputGroup" >
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-secondary">
                                    <input type="checkbox" @customCheck id="caseNotifiEdit">
                                </div>
                            </div>
                            <input type="text" class="form-control " value="Powiadomienie e-mail" readonly>
                        </div>
                    </div>

              </div>


              <div class="row">
                <div class="col">
                    <div class="kr1CustomInputContainer">
                        <textarea type="text" placeholder="Opis" class="kr1CustomTextArea" rows="6" asp-for="Case.Description" id="caseDescriptionEdit"></textarea>
                    </div>
                </div>
              </div>

              <div style="display:grid">
                  <div class="col mb-2 displayUploadedImgCaseTableContainer">
                        <div id="displayUploadedImgEdit">
                            @for(int i = 0; i < Model.ImageObjLi.Count; i++)
                            {
                                <div >
                                   <!-- <a href="../uploads/img/Model.ImageNames[i].ImageName" target="_blank"> <img class="caseTableImages" src = "../uploads/img/Model.ImageNames[i].ImageName"></a> -->
                                    <a href="javascript:openBase64InNewTab('@(Convert.ToBase64String(@Model.ImageObjLi[i].ImageBytes))')" > 
                                         <img class="caseTableImages" src="data:image/jpg;base64,@(Convert.ToBase64String(@Model.ImageObjLi[i].ImageBytes))"> 
                                    </a>
                                   <span onclick="removeImageEditPage(@Model.ImageObjLi[i].ImageId , this)"></span>
                                </div>
                            }
                        </div>
                  </div>

                <div class="tableButtonsContainer">
                    <div class="tableButtonCell">
                        <input type="submit"  class="btn  tableButtonSave" ;
                        value="&nbsp;&nbsp;&nbsp;&nbsp;Zapisz" />
                    </div>
           
                    <div class="imageUpload row d-flex justify-content-center text-center" style="width:fit-content">
                        <label for="fileUploadEdit" >
                            <div class="tableButtonCell">
                                <a  class="btn tableButtonAddImage"
                                        title="Wyróżnij" >&nbsp;&nbsp;&nbsp;&nbsp; Dodaj zdjęcie</a>
                            </div>
                        </label>
                        <input id="fileUploadEdit" type="file"  onchange="displayImageSelectedEditPage(event) , addImage2formDataEditPage()" />
                    </div>
                </div>
            </div>

        
  
       </div>

   
    </form> 

</body>

